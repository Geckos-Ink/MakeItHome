"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[405],{405:(ae,x,a)=>{a.r(x),a.d(x,{default:()=>oe});var e=a(9212),c=a(1331),u=a(6814),l=a(2296),m=a(617),h=a(8645),p=a(9773),d=a(2651),v=a(2596),Z=a(5619),F=a(9397),M=a(8180),Q=a(7398),U=a(4664),f=a(8504),I=a(2096),q=a(9862);let g=(()=>{class t{constructor(n){this._httpClient=n,this._item=new Z.X(null),this._items=new Z.X(null)}get items$(){return this._items.asObservable()}get item$(){return this._item.asObservable()}getItems(n=null){return this._httpClient.get("api/apps/file-manager",{params:{folderId:n}}).pipe((0,F.b)(o=>{this._items.next(o)}))}getItemById(n){return this._items.pipe((0,M.q)(1),(0,Q.U)(o=>{const i=[...o.folders,...o.files].find(s=>s.id===n)||null;return this._item.next(i),i}),(0,U.w)(o=>o?(0,I.of)(o):(0,f._)("Could not found the item with id of "+n+"!")))}static#e=this.\u0275fac=function(o){return new(o||t)(e.LFG(q.eN))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var D=a(9236);const w=["matDrawer"];function J(t,r){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.AsE(" ",n.items.folders.length," folders, ",n.items.files.length," files ")}}const y=t=>["/apps/file-manager/folders/",t];function B(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"a",17),e._uU(2),e.qZA(),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,y,n.id)),e.xp6(1),e.Oqu(n.name)}}function L(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(2),e.Oqu(n.name)}}function O(t,r){1&t&&(e.ynx(0),e.TgZ(1,"div",18),e._uU(2,"/"),e.qZA(),e.BQk())}function Y(t,r){if(1&t&&(e.ynx(0),e.YNc(1,B,3,4,"ng-container",9)(2,L,3,1,"ng-container",9)(3,O,3,0,"ng-container",9),e.BQk()),2&t){const n=r.last;e.xp6(1),e.Q6J("ngIf",!n),e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("ngIf",!n)}}const j=()=>["/apps/file-manager"];function R(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",16)(2,"a",17),e._uU(3,"Home "),e.qZA(),e.TgZ(4,"div",18),e._uU(5,"/"),e.qZA(),e.YNc(6,Y,4,3,"ng-container",19),e.qZA(),e.BQk()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("routerLink",e.DdM(3,j)),e.xp6(4),e.Q6J("ngForOf",n.items.path)("ngForTrackBy",n.trackByFn)}}function N(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",32),e._uU(2),e.qZA(),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(2),e.Oqu(n.contents)}}const T=t=>["./details/",t];function z(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",23)(2,"a",24),e.NdJ("click",function(o){return o.preventDefault()}),e._UZ(3,"mat-icon",25),e.qZA(),e.TgZ(4,"a",26)(5,"div",27)(6,"div",28),e._UZ(7,"mat-icon",29),e.qZA()(),e.TgZ(8,"div",30)(9,"div",31),e._uU(10),e.qZA(),e.YNc(11,N,3,1,"ng-container",9),e.qZA()()(),e.BQk()),2&t){const n=r.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(7,T,n.id)),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:information-circle"),e.xp6(1),e.Q6J("routerLink",e.VKq(9,y,n.id)),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:folder"),e.xp6(2),e.Q6J("matTooltip",n.name),e.xp6(1),e.Oqu(n.name),e.xp6(1),e.Q6J("ngIf",n.contents)}}function S(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div")(2,"div",21),e._uU(3,"Folders"),e.qZA(),e.TgZ(4,"div",22),e.YNc(5,z,12,11,"ng-container",19),e.qZA()(),e.BQk()),2&t){const n=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",n.items.folders)("ngForTrackBy",n.trackByFn)}}function $(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",32),e._uU(2),e.qZA(),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(2),e.Oqu(n.contents)}}function X(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"a",33)(2,"div",27)(3,"div",28)(4,"div",34),e._UZ(5,"mat-icon",29),e.TgZ(6,"div",35),e._uU(7),e.qZA()()()(),e.TgZ(8,"div",30)(9,"div",31),e._uU(10),e.qZA(),e.YNc(11,$,3,1,"ng-container",9),e.qZA()(),e.BQk()),2&t){const n=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(16,T,n.id)),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:document"),e.xp6(1),e.ekj("bg-red-600","PDF"===n.type)("bg-blue-600","DOC"===n.type)("bg-green-600","XLS"===n.type)("bg-gray-600","TXT"===n.type)("bg-amber-600","JPG"===n.type),e.xp6(1),e.hij(" ",n.type.toUpperCase()," "),e.xp6(2),e.Q6J("matTooltip",n.name),e.xp6(1),e.Oqu(n.name),e.xp6(1),e.Q6J("ngIf",n.contents)}}function K(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div")(2,"div",21),e._uU(3,"Files"),e.qZA(),e.TgZ(4,"div",22),e.YNc(5,X,12,18,"ng-container",19),e.qZA()(),e.BQk()),2&t){const n=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",n.items.files)("ngForTrackBy",n.trackByFn)}}function H(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",20),e.YNc(2,S,6,2,"ng-container",9)(3,K,6,2,"ng-container",9),e.qZA(),e.BQk()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",n.items.folders.length>0),e.xp6(1),e.Q6J("ngIf",n.items.files.length>0)}}function P(t,r){1&t&&(e.TgZ(0,"div",36),e._UZ(1,"mat-icon",37),e.TgZ(2,"div",38),e._uU(3,"There are no items!"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:folder-open"))}let _=(()=>{class t{constructor(n,o,i,s,re){this._activatedRoute=n,this._changeDetectorRef=o,this._router=i,this._fileManagerService=s,this._fuseMediaWatcherService=re,this._unsubscribeAll=new h.x}ngOnInit(){this._fileManagerService.items$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(n=>{this.items=n,this._changeDetectorRef.markForCheck()}),this._fileManagerService.item$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(n=>{this.selectedItem=n,this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaQueryChange$("(min-width: 1440px)").pipe((0,p.R)(this._unsubscribeAll)).subscribe(n=>{this.drawerMode=n.matches?"side":"over",this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}trackByFn(n,o){return o.id||n}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(c.gz),e.Y36(e.sBO),e.Y36(c.F0),e.Y36(g),e.Y36(D.T))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["file-manager-list"]],viewQuery:function(o,i){if(1&o&&e.Gf(w,7),2&o){let s;e.iGM(s=e.CRH())&&(i.matDrawer=s.first)}},standalone:!0,features:[e.jDz],decls:22,vars:10,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-100","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col","bg-gray-100","dark:bg-transparent"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","sm:justify-between","p-6","sm:py-12","md:px-8","border-b","bg-card","dark:bg-transparent"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"flex","items-center","mt-0.5","font-medium","text-secondary"],[4,"ngIf"],[1,"mt-4","sm:mt-0"],["mat-flat-button","",3,"color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[4,"ngIf","ngIfElse"],["noItems",""],[1,"flex","items-center","space-x-2"],[1,"text-primary","cursor-pointer",3,"routerLink"],[1,""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-6","md:p-8","space-y-8"],[1,"font-medium"],[1,"flex","flex-wrap","-m-2","mt-2"],[1,"relative","w-40","h-40","m-2","p-4","shadow","rounded-2xl","bg-card"],["mat-icon-button","",1,"absolute","z-20","top-1.5","right-1.5","w-8","h-8","min-h-8",3,"routerLink","click"],[1,"icon-size-5",3,"svgIcon"],[1,"z-10","absolute","inset-0","flex","flex-col","p-4","cursor-pointer",3,"routerLink"],[1,"aspect-[9/6]"],[1,"flex","items-center","justify-center","h-full"],[1,"icon-size-14","text-hint","opacity-50",3,"svgIcon"],[1,"flex","flex-col","flex-auto","justify-center","text-center","text-sm","font-medium"],[1,"truncate",3,"matTooltip"],[1,"text-secondary","truncate"],[1,"flex","flex-col","w-40","h-40","m-2","p-4","shadow","rounded-2xl","cursor-pointer","bg-card",3,"routerLink"],[1,"relative"],[1,"absolute","left-0","bottom-0","px-1.5","rounded","text-sm","font-semibold","leading-5","text-white"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0)(1,"mat-drawer-container",1),e.NdJ("backdropClick",function(){return i.onBackdropClicked()}),e.TgZ(2,"mat-drawer",2,3),e._UZ(4,"router-outlet"),e.qZA(),e.TgZ(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div")(9,"div",7),e._uU(10,"File Manager"),e.qZA(),e.TgZ(11,"div",8),e.YNc(12,J,2,2,"ng-container",9)(13,R,7,4,"ng-container",9),e.qZA()(),e.TgZ(14,"div",10)(15,"button",11),e._UZ(16,"mat-icon",12),e.TgZ(17,"span",13),e._uU(18,"Upload file"),e.qZA()()()(),e.YNc(19,H,4,2,"ng-container",14)(20,P,4,1,"ng-template",null,15,e.W1O),e.qZA()()()()),2&o){const s=e.MAs(21);e.xp6(2),e.Q6J("mode",i.drawerMode)("opened",!1)("position","end")("disableClose",!0),e.xp6(10),e.Q6J("ngIf",!i.items.path.length),e.xp6(1),e.Q6J("ngIf",i.items.path.length),e.xp6(2),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(3),e.Q6J("ngIf",i.items&&(i.items.folders.length>0||i.items.files.length>0))("ngIfElse",s)}},dependencies:[d.SJ,d.jA,d.kh,d.LW,c.lC,u.O5,c.rH,u.ax,l.ot,l.lW,l.o6,m.Ps,m.Hw,v.AV,v.gM],encapsulation:2,changeDetection:0})}return t})();function W(t,r){1&t&&(e.ynx(0),e._UZ(1,"mat-icon",23),e.BQk()),2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:folder"))}function E(t,r){1&t&&(e.ynx(0),e._UZ(1,"mat-icon",23),e.BQk()),2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:document"))}function G(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",13),e._uU(3,"Contents"),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.qZA()(),e.BQk()),2&t){const n=e.oxw();e.xp6(5),e.Oqu(n.item.contents)}}function V(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.BQk()),2&t){const n=e.oxw();e.xp6(2),e.Oqu(n.item.description)}}function ee(t,r){1&t&&(e.ynx(0),e.TgZ(1,"div",24),e._uU(2,"Click here to add a description"),e.qZA(),e.BQk())}const te=()=>["../../"];let b=(()=>{class t{constructor(n,o,i){this._changeDetectorRef=n,this._fileManagerListComponent=o,this._fileManagerService=i,this._unsubscribeAll=new h.x}ngOnInit(){this._fileManagerListComponent.matDrawer.open(),this._fileManagerService.item$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(n=>{this._fileManagerListComponent.matDrawer.open(),this.item=n,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDrawer(){return this._fileManagerListComponent.matDrawer.close()}trackByFn(n,o){return o.id||n}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(e.sBO),e.Y36(_),e.Y36(g))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["file-manager-details"]],standalone:!0,features:[e.jDz],decls:51,vars:28,consts:[[1,"flex","flex-col","flex-auto","p-6","md:p-8"],[1,"flex","items-center","justify-end"],["mat-icon-button","",3,"routerLink"],[3,"svgIcon"],[1,"mt-8","aspect-[9/6]"],[1,"flex","items-center","justify-center","h-full","border","rounded-lg","bg-gray-50","dark:bg-card"],[4,"ngIf"],[1,"flex","flex-col","items-start","mt-8"],[1,"text-xl","font-medium"],[1,"mt-1","px-1.5","rounded","text-sm","font-semibold","leading-5","text-white"],[1,"text-lg","font-medium","mt-8"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],[1,"flex","items-center","justify-between","mt-8"],[1,"text-lg","font-medium"],["mat-icon-button",""],[1,"icon-size-5",3,"svgIcon"],[1,"flex","mt-2","border-t"],[1,"py-3"],[1,"grid","grid-cols-2","gap-4","w-full","mt-8"],["mat-flat-button","",1,"flex-auto",3,"color"],["mat-stroked-button","",1,"flex-auto"],[1,"icon-size-24","text-hint",3,"svgIcon"],[1,"italic","text-secondary"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._UZ(3,"mat-icon",3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,W,2,1,"ng-container",6)(7,E,2,1,"ng-container",6),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8),e._uU(10),e.qZA(),e.TgZ(11,"div",9),e._uU(12),e.qZA()(),e.TgZ(13,"div",10),e._uU(14,"Information"),e.qZA(),e.TgZ(15,"div",11)(16,"div",12)(17,"div",13),e._uU(18,"Created By"),e.qZA(),e.TgZ(19,"div"),e._uU(20),e.qZA()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23,"Created At"),e.qZA(),e.TgZ(24,"div"),e._uU(25),e.qZA()(),e.TgZ(26,"div",12)(27,"div",13),e._uU(28,"Modified At"),e.qZA(),e.TgZ(29,"div"),e._uU(30),e.qZA()(),e.TgZ(31,"div",12)(32,"div",13),e._uU(33,"Size"),e.qZA(),e.TgZ(34,"div"),e._uU(35),e.qZA()(),e.YNc(36,G,6,1,"ng-container",6),e.qZA(),e.TgZ(37,"div",14)(38,"div",15),e._uU(39,"Description"),e.qZA(),e.TgZ(40,"button",16),e._UZ(41,"mat-icon",17),e.qZA()(),e.TgZ(42,"div",18)(43,"div",19),e.YNc(44,V,3,1,"ng-container",6)(45,ee,3,0,"ng-container",6),e.qZA()(),e.TgZ(46,"div",20)(47,"button",21),e._uU(48," Download "),e.qZA(),e.TgZ(49,"button",22),e._uU(50," Delete "),e.qZA()()()),2&o&&(e.xp6(2),e.Q6J("routerLink",e.DdM(27,te)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(3),e.Q6J("ngIf","folder"===i.item.type),e.xp6(1),e.Q6J("ngIf","folder"!==i.item.type),e.xp6(3),e.Oqu(i.item.name),e.xp6(1),e.ekj("bg-indigo-600","folder"===i.item.type)("bg-red-600","PDF"===i.item.type)("bg-blue-600","DOC"===i.item.type)("bg-green-600","XLS"===i.item.type)("bg-gray-600","TXT"===i.item.type)("bg-amber-600","JPG"===i.item.type),e.xp6(1),e.hij(" ",i.item.type.toUpperCase()," "),e.xp6(8),e.Oqu(i.item.createdBy),e.xp6(5),e.Oqu(i.item.createdAt),e.xp6(5),e.Oqu(i.item.modifiedAt),e.xp6(5),e.Oqu(i.item.size),e.xp6(1),e.Q6J("ngIf",i.item.contents),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(3),e.Q6J("ngIf",i.item.description),e.xp6(1),e.Q6J("ngIf",!i.item.description),e.xp6(2),e.Q6J("color","primary"))},dependencies:[l.ot,l.lW,l.o6,l.RK,c.rH,m.Ps,m.Hw,u.O5],encapsulation:2,changeDetection:0})}return t})(),ne=(()=>{class t{constructor(){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["file-manager"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(o,i){1&o&&e._UZ(0,"router-outlet")},dependencies:[c.lC],encapsulation:2,changeDetection:0})}return t})();var A=a(6306);const C=(t,r)=>{const n=(0,e.f3M)(g),o=(0,e.f3M)(c.F0);return n.getItemById(t.paramMap.get("id")).pipe((0,A.K)(i=>{console.error(i);const s=r.url.split("/").slice(0,-1).join("/");return o.navigateByUrl(s),(0,f._)(i)}))},k=(t,r,n,o)=>{let i=o.root;for(;i.firstChild;)i=i.firstChild;return!(o.url.includes("/file-manager")&&!o.url.includes("/details"))||t.closeDrawer().then(()=>!0)},oe=[{path:"",component:ne,children:[{path:"folders/:folderId",component:_,resolve:{item:(t,r)=>{const n=(0,e.f3M)(g),o=(0,e.f3M)(c.F0);return n.getItems(t.paramMap.get("folderId")).pipe((0,A.K)(i=>{console.error(i);const s=r.url.split("/").slice(0,-1).join("/");return o.navigateByUrl(s),(0,f._)(i)}))}},children:[{path:"details/:id",component:b,resolve:{item:C},canDeactivate:[k]}]},{path:"",component:_,resolve:{items:()=>(0,e.f3M)(g).getItems()},children:[{path:"details/:id",component:b,resolve:{item:C},canDeactivate:[k]}]}]}]}}]);